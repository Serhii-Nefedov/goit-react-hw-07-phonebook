(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={ContactsList:"ContactsList_ContactsList__3uUxB",item:"ContactsList_item__2gY9c"}},27:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__tVJWy"}},28:function(t,e,n){t.exports={searchContacts:"SearchContacts_searchContacts__3CWpV"}},58:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"DB_fetchContacts",(function(){return k})),n.d(c,"DB_postContact",(function(){return L})),n.d(c,"DB_deleteContact",(function(){return F})),n.d(c,"addContact",(function(){return N})),n.d(c,"deleteContact",(function(){return W})),n.d(c,"filterContacts",(function(){return S}));var r={};n.r(r),n.d(r,"rootReducer",(function(){return I}));var a={};n.r(a),n.d(a,"getContacts",(function(){return P})),n.d(a,"getFilter",(function(){return U})),n.d(a,"getFilteredContacts",(function(){return G})),n.d(a,"isLoading",(function(){return Y})),n.d(a,"error",(function(){return q}));var o=n(0),u=n.n(o),i=n(10),s=n.n(i),f=n(6),l=n(4),b=n(3),d=n.n(b),j=n(8),p=n(13),O=n.n(p),h="http://localhost:3001/contacts";function C(){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat(h));case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function t(e,n){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("".concat(h),{name:"".concat(e),number:"".concat(n)});case 2:return c=t.sent,r=c.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.delete("".concat(h,"/").concat(e));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y,B,D,w=n(62),k=Object(l.c)("contacts/fetchContacts",function(){var t=Object(j.a)(d.a.mark((function t(e,n){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,C();case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),L=Object(l.c)("contacts/postContact",function(){var t=Object(j.a)(d.a.mark((function t(e,n){var c,r,a,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.name,r=e.number,a=n.rejectWithValue,t.prev=2,t.next=5,v(c,r);case 5:return o=t.sent,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",a(t.t0));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),F=Object(l.c)("contacts/deleteContact",function(){var t=Object(j.a)(d.a.mark((function t(e,n){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,_(e);case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),N=Object(l.b)("contactsList/addContact",(function(t){var e=t.name,n=t.number;return{payload:{id:Object(w.a)(),name:e,number:n}}})),W=Object(l.b)("contacts/deleteContact"),S=Object(l.b)("contacts/filterContacts"),V=n(2),J=n(29),E=n(7),R=Object(l.d)([],(y={},Object(V.a)(y,c.DB_fetchContacts.fulfilled,(function(t,e){return e.payload})),Object(V.a)(y,c.addContact,(function(t,e){var n=e.payload;return[].concat(Object(J.a)(t),[n])})),Object(V.a)(y,c.DB_postContact.fulfilled,(function(){})),Object(V.a)(y,c.deleteContact,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),y)),T=Object(l.d)("",Object(V.a)({},c.filterContacts,(function(t,e){return e.payload}))),z=Object(l.d)(!1,(B={},Object(V.a)(B,c.DB_fetchContacts.pending,(function(){return!0})),Object(V.a)(B,c.DB_fetchContacts.fulfilled,(function(){return!1})),Object(V.a)(B,c.DB_fetchContacts.rejected,(function(){return!1})),Object(V.a)(B,c.DB_postContact.pending,(function(){return!0})),Object(V.a)(B,c.DB_postContact.fulfilled,(function(){return!1})),Object(V.a)(B,c.DB_postContact.rejected,(function(){return!1})),Object(V.a)(B,c.DB_deleteContact.pending,(function(){return!0})),Object(V.a)(B,c.DB_deleteContact.fulfilled,(function(){return!1})),Object(V.a)(B,c.DB_deleteContact.rejected,(function(){return!1})),B)),A=Object(l.d)(null,(D={},Object(V.a)(D,c.DB_fetchContacts.rejected,(function(t,e){return e.payload})),Object(V.a)(D,c.DB_fetchContacts.pending,(function(){return null})),Object(V.a)(D,c.DB_postContact.rejected,(function(t,e){return e.payload})),Object(V.a)(D,c.DB_postContact.pending,(function(){return null})),Object(V.a)(D,c.DB_deleteContact.rejected,(function(t,e){return e.payload})),Object(V.a)(D,c.DB_deleteContact.pending,(function(){return null})),D)),I=Object(E.b)({contacts:R,filter:T,isLoading:z,error:A}),M=n(11),P=function(t){return t.contacts},U=function(t){return t.filter},Y=function(t){return t.isLoading},q=function(t){return t.error},G=Object(M.a)([P,U],(function(t,e){if(t&&e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}return t})),H=Object(l.a)({reducer:r.rootReducer}),K=n(18),Q=n(27),X=n.n(Q),Z=n(1);function $(){var t=Object(o.useState)(""),e=Object(K.a)(t,2),n=e[0],r=e[1],u=Object(o.useState)(""),i=Object(K.a)(u,2),s=i[0],l=i[1],b=Object(f.c)(a.getContacts),p=Object(f.b)(),O=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":r(c);break;case"number":l(c)}},h=function(){r(""),l("")};return Object(Z.jsxs)("form",{className:X.a.contactForm,onSubmit:function(t){return t.preventDefault(),b&&b.find((function(t){return t.name===n}))?alert(n+" is already in contacts"):n?s?(p(c.addContact({name:n,number:s})),Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(c.DB_postContact({name:n,number:s}));case 2:return t.next=4,p(c.DB_fetchContacts());case 4:case"end":return t.stop()}}),t)})))(),void h()):alert("Type some number"):alert("Type some name")},children:[Object(Z.jsxs)("label",{children:["Name",Object(Z.jsx)("input",{name:"name",type:"text",value:n,onChange:O})]}),Object(Z.jsxs)("label",{children:["Number",Object(Z.jsx)("input",{name:"number",type:"text",value:s,onChange:O})]}),Object(Z.jsx)("button",{type:"submit",children:"Add contact"})]})}var tt=n(17),et=n.n(tt);function nt(){var t=Object(f.c)(a.getFilteredContacts),e=Object(f.c)(a.isLoading),n=Object(f.c)(a.error),r=Object(f.b)();function u(){return(u=Object(j.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(c.deleteContact(e)),t.next=3,r(c.DB_deleteContact(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.useEffect)((function(){r(c.DB_fetchContacts())}),[r]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("div",{className:et.a.LoadingWrapper,children:[e&&Object(Z.jsx)("div",{children:"\u0421ontact synchronization..."}),n&&Object(Z.jsxs)("div",{children:[n.message,", no conection to DB"]})]}),Object(Z.jsx)("ul",{className:et.a.ContactsList,children:t&&t.map((function(t){return Object(Z.jsxs)("li",{children:[t.name,": ",t.number,Object(Z.jsx)("button",{onClick:function(){!function(t){u.apply(this,arguments)}(t.id)},children:"Delete"})]},t.id)}))})]})}var ct=n(28),rt=n.n(ct);function at(){var t=Object(f.c)(a.getFilter),e=Object(f.b)();return Object(Z.jsxs)("label",{className:rt.a.searchContacts,children:["Find contacts by name",Object(Z.jsx)("input",{name:"filter",type:"text",value:t,onChange:function(t){return e(c.filterContacts(t.target.value))}})]})}var ot=function(){return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("h1",{children:"Phonebook"}),Object(Z.jsx)($,{}),Object(Z.jsx)("h2",{children:"Contacts"}),Object(Z.jsx)(at,{}),Object(Z.jsx)(nt,{})]})};n(58),n(59);s.a.render(Object(Z.jsx)(u.a.StrictMode,{children:Object(Z.jsx)(f.a,{store:H,children:Object(Z.jsx)(ot,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.0c5b7d9c.chunk.js.map