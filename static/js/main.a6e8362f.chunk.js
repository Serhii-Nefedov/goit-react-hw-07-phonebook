(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{27:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__tVJWy"}},28:function(t,e,n){t.exports={searchContacts:"SearchContacts_searchContacts__3CWpV"}},58:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"DB_fetchContacts",(function(){return k})),n.d(r,"DB_postContact",(function(){return L})),n.d(r,"DB_deleteContact",(function(){return F})),n.d(r,"addContact",(function(){return N})),n.d(r,"deleteContact",(function(){return S})),n.d(r,"filterContacts",(function(){return W}));var c={};n.r(c),n.d(c,"rootReducer",(function(){return I}));var a={};n.r(a),n.d(a,"getContacts",(function(){return P})),n.d(a,"getFilter",(function(){return Q})),n.d(a,"getFilteredContacts",(function(){return z})),n.d(a,"isLoading",(function(){return U})),n.d(a,"error",(function(){return Y}));var o=n(0),u=n.n(o),s=n(11),i=n.n(s),f=n(6),l=n(4),b=n(3),d=n.n(b),j=n(8),p=n(14),O=n.n(p),h="http://localhost:3001/contacts";function C(){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat(h));case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function t(e,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("".concat(h),{name:"".concat(e),number:"".concat(n)});case 2:return r=t.sent,c=r.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return y.apply(this,arguments)}function y(){return(y=Object(j.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.delete("".concat(h,"/").concat(e));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g,B,D,w=n(62),k=Object(l.c)("contacts/fetchContacts",function(){var t=Object(j.a)(d.a.mark((function t(e,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,C();case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),L=Object(l.c)("contacts/postContact",function(){var t=Object(j.a)(d.a.mark((function t(e,n){var r,c,a,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,c=e.number,a=n.rejectWithValue,t.prev=2,t.next=5,v(r,c);case 5:return o=t.sent,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",a(t.t0));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),F=Object(l.c)("contacts/deleteContact",function(){var t=Object(j.a)(d.a.mark((function t(e,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,_(e);case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),N=Object(l.b)("contactsList/addContact",(function(t){var e=t.name,n=t.number;return{payload:{id:Object(w.a)(),name:e,number:n}}})),S=Object(l.b)("contacts/deleteContact"),W=Object(l.b)("contacts/filterContacts"),V=n(2),J=n(29),E=n(7),R=Object(l.d)([],(g={},Object(V.a)(g,r.DB_fetchContacts.fulfilled,(function(t,e){return e.payload})),Object(V.a)(g,r.addContact,(function(t,e){var n=e.payload;return[].concat(Object(J.a)(t),[n])})),Object(V.a)(g,r.DB_postContact.fulfilled,(function(){})),Object(V.a)(g,r.deleteContact,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),g)),T=Object(l.d)("",Object(V.a)({},r.filterContacts,(function(t,e){return e.payload}))),q=Object(l.d)(!1,(B={},Object(V.a)(B,r.DB_fetchContacts.pending,(function(){return!0})),Object(V.a)(B,r.DB_fetchContacts.fulfilled,(function(){return!1})),Object(V.a)(B,r.DB_fetchContacts.rejected,(function(){return!1})),Object(V.a)(B,r.DB_postContact.pending,(function(){return!0})),Object(V.a)(B,r.DB_postContact.fulfilled,(function(){return!1})),Object(V.a)(B,r.DB_postContact.rejected,(function(){return!1})),Object(V.a)(B,r.DB_deleteContact.pending,(function(){return!0})),Object(V.a)(B,r.DB_deleteContact.fulfilled,(function(){return!1})),Object(V.a)(B,r.DB_deleteContact.rejected,(function(){return!1})),B)),A=Object(l.d)(null,(D={},Object(V.a)(D,r.DB_fetchContacts.rejected,(function(t,e){return e.payload})),Object(V.a)(D,r.DB_fetchContacts.pending,(function(){return null})),Object(V.a)(D,r.DB_postContact.rejected,(function(t,e){return e.payload})),Object(V.a)(D,r.DB_postContact.pending,(function(){return null})),Object(V.a)(D,r.DB_deleteContact.rejected,(function(t,e){return e.payload})),Object(V.a)(D,r.DB_deleteContact.pending,(function(){return null})),D)),I=Object(E.b)({contacts:R,filter:T,isLoading:q,error:A}),M=n(12),P=function(t){return t.contacts},Q=function(t){return t.filter},U=function(t){return t.isLoading},Y=function(t){return t.error},z=Object(M.a)([P,Q],(function(t,e){if(t&&e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}return t})),G=Object(l.a)({reducer:c.rootReducer}),H=n(18),K=n(27),X=n.n(K),Z=n(1);function $(){var t=Object(o.useState)(""),e=Object(H.a)(t,2),n=e[0],c=e[1],u=Object(o.useState)(""),s=Object(H.a)(u,2),i=s[0],l=s[1],b=Object(f.c)(a.getContacts),p=Object(f.b)(),O=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"name":c(r);break;case"number":l(r)}},h=function(){c(""),l("")};return Object(Z.jsxs)("form",{className:X.a.contactForm,onSubmit:function(t){return t.preventDefault(),b&&b.find((function(t){return t.name===n}))?alert(n+" is already in contacts"):n?i?(p(r.addContact({name:n,number:i})),Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r.DB_postContact({name:n,number:i}));case 2:return t.next=4,p(r.DB_fetchContacts());case 4:case"end":return t.stop()}}),t)})))(),void h()):alert("Type some number"):alert("Type some name")},children:[Object(Z.jsxs)("label",{children:["Name",Object(Z.jsx)("input",{name:"name",type:"text",value:n,onChange:O})]}),Object(Z.jsxs)("label",{children:["Number",Object(Z.jsx)("input",{name:"number",type:"text",value:i,onChange:O})]}),Object(Z.jsx)("button",{type:"submit",children:"Add contact"})]})}var tt=n(9),et=n.n(tt);function nt(){var t=Object(f.c)(a.getFilteredContacts),e=Object(f.c)(a.isLoading),n=Object(f.c)(a.error),c=Object(f.b)();function u(){return(u=Object(j.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(r.deleteContact(e)),t.next=3,c(r.DB_deleteContact(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.useEffect)((function(){c(r.DB_fetchContacts())}),[c]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("div",{className:et.a.LoadingWrapper,children:[e&&Object(Z.jsx)("div",{className:et.a.Synhron,children:"server connection..."}),n&&Object(Z.jsxs)("div",{className:et.a.Synhron,children:[n.message,", no conection to server"]})]}),Object(Z.jsx)("ul",{className:et.a.ContactsList,children:t&&t.map((function(t){return Object(Z.jsxs)("li",{className:et.a.item,children:[t.name,": ",t.number,Object(Z.jsx)("button",{onClick:function(){!function(t){u.apply(this,arguments)}(t.id)},children:"delete"})]},t.id)}))})]})}var rt=n(28),ct=n.n(rt);function at(){var t=Object(f.c)(a.getFilter),e=Object(f.b)();return Object(Z.jsxs)("label",{className:ct.a.searchContacts,children:["Find contacts by name",Object(Z.jsx)("input",{name:"filter",type:"text",value:t,onChange:function(t){return e(r.filterContacts(t.target.value))}})]})}var ot=function(){return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("h1",{children:"Phonebook"}),Object(Z.jsx)($,{}),Object(Z.jsx)("h2",{children:"Contacts"}),Object(Z.jsx)(at,{}),Object(Z.jsx)(nt,{})]})};n(58),n(59);i.a.render(Object(Z.jsx)(u.a.StrictMode,{children:Object(Z.jsx)(f.a,{store:G,children:Object(Z.jsx)(ot,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={ContactsList:"ContactsList_ContactsList__3uUxB",item:"ContactsList_item__2gY9c",Synhron:"ContactsList_Synhron__qQC2f"}}},[[60,1,2]]]);
//# sourceMappingURL=main.a6e8362f.chunk.js.map