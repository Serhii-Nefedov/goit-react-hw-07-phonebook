{"version":3,"sources":["components/ContactsList/ContactsList.module.css","components/ContactForm/ContactForm.module.css","components/SearchContacts/SearchContacts.module.css","APIServise/contactsAPI.js","redux/contacts/contactsOperations.js","redux/contacts/contactsReducer.js","redux/contacts/contactsSelectors.js","redux/store.js","components/ContactForm/ContactForm.jsx","components/ContactsList/ContactsList.jsx","components/SearchContacts/SearchContacts.jsx","App.js","index.js"],"names":["module","exports","BASE_URL","fetchContacts","a","axios","get","data","postContact","name","number","post","deleteContact","id","delete","DB_fetchContacts","createAsyncThunk","_","rejectWithValue","contactsAPI","contacts","DB_postContact","response","DB_deleteContact","addContact","createAction","payload","uuidv4","filterContacts","contactsReducer","createReducer","contactsOperations","fulfilled","state","filter","contact","filterReducer","isLoadingReducer","pending","rejected","errorReducer","rootReducer","combineReducers","isLoading","error","getContacts","getFilter","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","includes","store","configureStore","reducer","ContactForm","useState","stateName","setStateName","stateNumber","setStateNumber","useSelector","contactsSelectors","dispatch","useDispatch","handleChange","e","target","value","reset","className","styles","contactForm","onSubmit","preventDefault","find","alert","type","onChange","ContactsList","filteredContacts","loading","useEffect","LoadingWrapper","message","map","onClick","deleteItem","SearchContacts","searchContacts","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c5b7d9c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactsList\":\"ContactsList_ContactsList__3uUxB\",\"item\":\"ContactsList_item__2gY9c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactForm\":\"ContactForm_contactForm__tVJWy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContacts\":\"SearchContacts_searchContacts__3CWpV\"};","import axios from 'axios';\r\n\r\nconst BASE_URL = 'http://localhost:3001/contacts';\r\n\r\nasync function fetchContacts() {\r\n  const { data } = await axios.get(`${BASE_URL}`);\r\n  return data;\r\n}\r\n\r\nasync function postContact(name, number) {\r\n  const { data } = await axios.post(`${BASE_URL}`, {\r\n    name: `${name}`,\r\n    number: `${number}`,\r\n  });\r\n  return data;\r\n}\r\n\r\nasync function deleteContact(id) {\r\n  await axios.delete(`${BASE_URL}/${id}`);\r\n  return id;\r\n}\r\n\r\nexport { fetchContacts, postContact, deleteContact };","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport * as contactsAPI from 'APIServise/contactsAPI';\r\nimport { createAction } from '@reduxjs/toolkit';\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport const DB_fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await contactsAPI.fetchContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const DB_postContact = createAsyncThunk(\r\n  'contacts/postContact',\r\n  async ({ name, number }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await contactsAPI.postContact(name, number);\r\n      return response;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const DB_deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await contactsAPI.deleteContact(id);\r\n      return response;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContact = createAction(\r\n  'contactsList/addContact',\r\n  ({ name, number }) => ({\r\n    payload: {\r\n      id: uuidv4(),\r\n      name: name,\r\n      number: number,\r\n    },\r\n  }),\r\n);\r\n\r\nexport const deleteContact = createAction('contacts/deleteContact');\r\n\r\nexport const filterContacts = createAction('contacts/filterContacts');","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport { contactsOperations } from 'redux/contacts';\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [contactsOperations.DB_fetchContacts.fulfilled]: (_, { payload }) => payload,\r\n  [contactsOperations.addContact]: (state, { payload }) => [...state, payload],\r\n  [contactsOperations.DB_postContact.fulfilled]: () => {},\r\n  [contactsOperations.deleteContact]: (state, { payload }) =>\r\n    state.filter(contact => contact.id !== payload),\r\n});\r\n\r\nconst filterReducer = createReducer('', {\r\n  [contactsOperations.filterContacts]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isLoadingReducer = createReducer(false, {\r\n  [contactsOperations.DB_fetchContacts.pending]: () => true,\r\n  [contactsOperations.DB_fetchContacts.fulfilled]: () => false,\r\n  [contactsOperations.DB_fetchContacts.rejected]: () => false,\r\n\r\n  [contactsOperations.DB_postContact.pending]: () => true,\r\n  [contactsOperations.DB_postContact.fulfilled]: () => false,\r\n  [contactsOperations.DB_postContact.rejected]: () => false,\r\n\r\n  [contactsOperations.DB_deleteContact.pending]: () => true,\r\n  [contactsOperations.DB_deleteContact.fulfilled]: () => false,\r\n  [contactsOperations.DB_deleteContact.rejected]: () => false,\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [contactsOperations.DB_fetchContacts.rejected]: (_, { payload }) => payload,\r\n  [contactsOperations.DB_fetchContacts.pending]: () => null,\r\n\r\n  [contactsOperations.DB_postContact.rejected]: (_, { payload }) => payload,\r\n  [contactsOperations.DB_postContact.pending]: () => null,\r\n\r\n  [contactsOperations.DB_deleteContact.rejected]: (_, { payload }) => payload,\r\n  [contactsOperations.DB_deleteContact.pending]: () => null,\r\n});\r\n\r\nexport const rootReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  filter: filterReducer,\r\n  isLoading: isLoadingReducer,\r\n  error: errorReducer,\r\n});","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getContacts = state => state.contacts;\r\nconst getFilter = state => state.filter;\r\nconst isLoading = state => state.isLoading;\r\nconst error = state => state.error;\r\n\r\nconst getFilteredContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filter) => {\r\n    if (contacts && filter) {\r\n      const normalizedFilter = filter.toLowerCase();\r\n      const filteredContact = contacts.filter(contact =>\r\n        contact.name.toLowerCase().includes(normalizedFilter),\r\n      );\r\n\r\n      return filteredContact;\r\n    }\r\n    return contacts;\r\n  },\r\n);\r\n\r\nexport { getContacts, getFilter, getFilteredContacts, isLoading, error };","import { configureStore } from '@reduxjs/toolkit';\r\nimport { contactsReducer } from 'redux/contacts';\r\n\r\nconst store = configureStore({\r\n  reducer: contactsReducer.rootReducer,\r\n});\r\n\r\nexport default store;","import { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { contactsOperations, contactsSelectors } from 'redux/contacts';\r\nimport styles from './ContactForm.module.css';\r\n\r\nexport default function ContactForm() {\r\n  const [stateName, setStateName] = useState('');\r\n  const [stateNumber, setStateNumber] = useState('');\r\n\r\n  const contacts = useSelector(contactsSelectors.getContacts);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'name':\r\n        setStateName(value);\r\n        break;\r\n\r\n      case 'number':\r\n        setStateNumber(value);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (contacts && contacts.find(contact => contact.name === stateName)) {\r\n      return alert(stateName + ' is already in contacts');\r\n    } else if (!stateName) {\r\n      return alert('Type some name');\r\n    } else if (!stateNumber) {\r\n      return alert('Type some number');\r\n    }\r\n\r\n    dispatch(\r\n      contactsOperations.addContact({ name: stateName, number: stateNumber }),\r\n    );\r\n\r\n    (async () => {\r\n      await dispatch(\r\n        contactsOperations.DB_postContact({\r\n          name: stateName,\r\n          number: stateNumber,\r\n        }),\r\n      );\r\n      await dispatch(contactsOperations.DB_fetchContacts());\r\n    })();\r\n\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setStateName('');\r\n    setStateNumber('');\r\n  };\r\n\r\n  return (\r\n    <form className={styles.contactForm} onSubmit={handleSubmit}>\r\n      <label>\r\n        Name\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={stateName}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n\r\n      <label>\r\n        Number\r\n        <input\r\n          name=\"number\"\r\n          type=\"text\"\r\n          value={stateNumber}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n\r\n      <button type=\"submit\">Add contact</button>\r\n    </form>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { contactsSelectors, contactsOperations } from 'redux/contacts';\r\nimport styles from './ContactsList.module.css';\r\n\r\nexport default function ContactsList() {\r\n  const filteredContacts = useSelector(contactsSelectors.getFilteredContacts);\r\n  const loading = useSelector(contactsSelectors.isLoading);\r\n  const error = useSelector(contactsSelectors.error);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(contactsOperations.DB_fetchContacts());\r\n  }, [dispatch]);\r\n\r\n  async function deleteItem(id) {\r\n    dispatch(contactsOperations.deleteContact(id));\r\n    await dispatch(contactsOperations.DB_deleteContact(id));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.LoadingWrapper}>\r\n        {loading && <div>Сontact synchronization...</div>}\r\n        {error && <div>{error.message}, no conection to DB</div>}\r\n      </div>\r\n      <ul className={styles.ContactsList}>\r\n        {filteredContacts &&\r\n          filteredContacts.map(contact => (\r\n            <li key={contact.id}>\r\n              {contact.name}\r\n              {': '}\r\n              {contact.number}\r\n              <button\r\n                onClick={() => {\r\n                  deleteItem(contact.id);\r\n                }}\r\n              >\r\n                Delete\r\n              </button>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}","import { useSelector, useDispatch } from 'react-redux';\r\nimport { contactsSelectors, contactsOperations } from 'redux/contacts';\r\nimport styles from './SearchContacts.module.css';\r\n\r\nexport default function SearchContacts() {\r\n  const filter = useSelector(contactsSelectors.getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <label className={styles.searchContacts}>\r\n      Find contacts by name\r\n      <input\r\n        name=\"filter\"\r\n        type=\"text\"\r\n        value={filter}\r\n        onChange={e =>\r\n          dispatch(contactsOperations.filterContacts(e.target.value))\r\n        }\r\n      />\r\n    </label>\r\n  );\r\n}","import ContactForm from './components/ContactForm';\nimport ContactsList from './components/ContactsList';\nimport SearchContacts from './components/SearchContacts';\n\n\nconst App = () => {\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <ContactForm />\n      <h2>Contacts</h2>\n      <SearchContacts />\n      <ContactsList />\n    </>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './App';\nimport './index.css';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}